<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf=8"/>
        <title>Exam revision</title>
    </head>
    <body>
        <h1>Square that moves from left to right - CANVAS</h1>
        <canvas width="600" height="300" style="border: 1px solid black"></canvas>
    
        <script type="text/javascript">
            let canvas, context;
            let W, H;

            let delta = 1;
            let squarex = 0;

            function application() {
                canvas = document.querySelector('canvas');
                context = canvas.getContext('2d');

                W = canvas.getBoundingClientRect().width;
                H = canvas.getBoundingClientRect().height;
            
                let size = 100;

                // Ștergere scenă.
                context.fillStyle = 'white';
                context.fillRect(0, 0, W, H);

                // Desenare pătrat.
                context.fillStyle = 'red';
                context.fillRect(squarex, H/2, size, size);
                
                // Schimbare delta în funcție de marginea pătratului.
                // Dacă ajunge la margine, se schimbă direcția.
                if (squarex >= W - size) {
                    delta = -1;
                } else if (squarex <= 0 + size) {
                    delta = 1;
                }

                squarex = squarex + delta;

                requestAnimationFrame(application);
            }

            document.addEventListener('DOMContentLoaded', application);
        </script>

    </body>
</html>