<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title></title>

    <style type="text/css">
        .grafic {
            background-color: lightblue;
            border: 1px solid black;
            padding: 2%;
            margin: 10%;
        }

        .bara {
            background-color: crimson;
            border: 1px solid black;
            padding: 1%;
            margin-bottom: 2%;
            margin-right: 5px;
            font-weight: bold;
            text-align: right;
        }

    </style>

    <script>

        function desenareGrafic(valori) {
            let grafic = document.querySelector('.grafic');
            grafic.innerHTML = "";

            let max = Math.max.apply(null, valori);
            console.log(max);

            for (let valoare of valori) {
                let bara = document.createElement('div');
                bara.classList.add('bara');
                bara.innerText = valoare.toString();
                grafic.append(bara);

                let w = (valoare * 100.0) / max + '%';
                bara.style.width = w;
            }
        }

        function aplicatie() {
            let buton = document.querySelector('#btnGrafic');
            buton.addEventListener('click', () => {
                let textbox = document.querySelector('#txtValori');
                let valori = textbox.value.split(',').map(item => parseInt(item, 10));
                desenareGrafic(valori);

            });
        }

        addEventListener('DOMContentLoaded', aplicatie);
    </script>

</head>
<body>
    <label for="txtValori">Valori:</label>
    <input id="txtValori" value="5,2,7,8,9,4,3"/>
    <input type="button" id="btnGrafic" value="Grafic" />

    <div class="grafic">
        <div class="bara" style="width: 70%">7</div>
        <div class="bara" style="width: 50%">12</div>
        <div class="bara" style="width: 30%">3</div>
        <div class="bara" style="width: 40%">4</div>
        </div>
</body>
</html>